<div class="card-body p-0">
  <form id="kt_modal_new_target_form" class="form fv-plugins-bootstrap5 fv-plugins-framework" action="#">

    <div class="row justify-content-end d-none">
      <div class="col-sm-3">
        <div class="d-flex flex-column mb-8 fv-row fv-plugins-icon-container">
          <input type="text" class="form-control form-control-sm " style="letter-spacing: 8px"
            placeholder="Chave do Ean" name="id" [(ngModel)]="eanMode.IObjectClass.ean">
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-8 col-lg-8 col-sm-12">
        <div class="d-flex flex-column mb-8 fv-row fv-plugins-icon-container">
          <!--begin::Label-->
          <label class="d-flex align-items-center fs-6 fw-bold mb-2">
            <span class="required">Seleção de Artigo</span>
          </label>
          <!--end::Label-->
          <select class="form-select form-select-sm selector" id="selectProdutos" data-allow-clear="true"
            data-placeholder="Selecciona o produto">
            <option></option>
            <option [value]="prod|json" *ngFor="let prod of listArticles |  async">
              {{ (prod.modelo ? prod.modelo.name : 'Não Identificado') + ' - ' + prod.name }}
            </option>
          </select>
          <!-- <div class="fv-plugins-message-container invalid-feedback"></div>
           <span class="mt-3 text-muted font-italic ml-5">Selecciona o produto para configurar o codigo de barra</span> -->
        </div>
      </div>
      <div class="col-4 col-lg-4 col-sm-12">
        <canvas id="ean" width="280" height="120" style="float: right">
        </canvas>
      </div>
      <div class="separator separator-dashed my-4"></div>
    </div>
    <div class="row">

      <div class="row col-12">
        <div class="col-sm-6 col-12 ">
          <div class="d-flex flex-column mb-8 fv-row fv-plugins-icon-container">
            <!--begin::Label-->
            <label class="d-flex align-items-center fs-6 fw-bold mb-2">
              <span class="required">Referência / Ean</span>
            </label>
            <!--end::Label-->
            <div class="input-group">
              <input type="text" class="form-control form-control-sm" style="letter-spacing: 8px" maxlength="13"
                placeholder="Enter Target Title" [(ngModel)]="eanMode.IObjectClass.ean" name="codeeans">
              <span class="input-group-text cursor-pointer" (click)="generateRef()" id="generate_key">
                <i class="fa fa-sync-alt"></i>
              </span>
            </div>
            <div class="fv-plugins-message-container invalid-feedback"></div>
          </div>
        </div>
      </div>

      <div class="row w-100 overflow-auto">

        <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xxl-auto min-w-350px">
          <div class="d-flex flex-column mb-8 fv-row fv-plugins-icon-container">
            <!--begin::Label-->
            <label class="d-flex align-items-center fs-6 fw-bold mb-2">
              <span class="">Origem </span>
            </label>

            <!--end::Label-->

            <select class="form-select form-select-sm selector" data-control="select2" data-allow-clear="true"
              data-placeholder="Selecciona o modelo" id="origemEan">
              <option></option>
              <option [value]="country|json" *ngFor="let country of listCountry | async">
                {{ country.name }}
              </option>
            </select>


          </div>
        </div>

        <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xxl-auto min-w-350px">
          <div class="d-flex flex-column mb-8 fv-row fv-plugins-icon-container">
            <!--begin::Label-->
            <label class="d-flex align-items-center fs-6 fw-bold mb-2">
              <span class="required">Tipo de item</span>
            </label>
            <!--end::Label-->
            <div class="input-group input-group-sm input-group-solid flex-nowrap">
              <select class="form-select form-select-sm selector" data-control="select2" id="loteSelectType"
                data-allow-clear="true" data-placeholder="Selecciona o tipo de lote">
                <option></option>
                <option [value]="items|json" *ngFor="let items of listTypeItems | async">
                  {{ items.name }}
                </option>
              </select>
              <button class="input-group-text" style="max-width: 80px; min-width: 80px"
                id="new_tipos_itens_basic_button">
                <i class="fa fa-plus"></i> &nbsp; Novo
              </button>
            </div>
            <div class="fv-plugins-message-container invalid-feedback"></div>
          </div>
        </div>

        <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xxl-auto min-w-350px">
          <div class="d-flex flex-column mb-8 fv-row fv-plugins-icon-container">
            <!--begin::Label-->
            <label class="d-flex align-items-center fs-6 fw-bold mb-2">
              <span class="required">Quantidade</span>
            </label>
            <!--end::Label-->
            <div class="input-group">
              <input type="number" class="form-control form-control-sm " placeholder="Caixa" name="target_title"
                [(ngModel)]="eanMode.IObjectClass.quantity">

              <input type="number" class="form-control form-control-sm " placeholder="Conversão" name="target_title"
                [(ngModel)]="eanMode.IObjectClass.conversion">
            </div>

            <div class="fv-plugins-message-container invalid-feedback"></div>
          </div>
        </div>

        <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xxl-auto min-w-350px">
          <div class="d-flex flex-column mb-8 fv-row fv-plugins-icon-container">
            <!--begin::Label-->
            <label class="d-flex align-items-center fs-6 fw-bold mb-2">
              <span class="required">Medida </span>
            </label>
            <div class="input-group input-group-sm input-group-solid flex-nowrap">
              <!--end::Label-->
              <div class="overflow-hidden flex-grow-1">
                <select class="form-select form-select-sm selector" data-control="select2" data-allow-clear="true"
                  data-placeholder="Selecciona o modelo" id="unidadeSelected">
                  <option></option>
                  <option [value]="unity|json" *ngFor="let unity of listUnity |async">
                    {{ unity.acronym + ' - ' + unity.name }}
                  </option>
                </select>
              </div>
              <button class="input-group-text" style="max-width: 80px; min-width: 80px" id="new_unicadade_basic_button">
                <i class="fa fa-plus"></i> &nbsp; Nova
              </button>
            </div>

          </div>
        </div>

      </div>

    </div>
    <div class="col-12 mt-2 mb-4">
      <div class="input-group text-right justify-content-end">
        <button type="button" class="btn btn-sm btn-primary mr-2 btn-sm" (click)="save()">
          Guardar a informação
        </button>
      </div>
    </div>
  </form>

  <app-tabela-ean></app-tabela-ean>

  <app-tipo-items></app-tipo-items>
  <app-unidade-medida></app-unidade-medida>

</div>
